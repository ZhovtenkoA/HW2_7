# HW2_7
Инструкция по использованию базы данных PostgreSQL с Docker длядомашней работы

Для использования базы данных PostgreSQL с помощью Docker без использования docker-compose.yml, следуйте инструкциям ниже:

Шаг 1: Запуск контейнера PostgreSQL Запустите контейнер PostgreSQL с помощью следующей команды:

docker run --name students-postgres -p 5432:5432 -e POSTGRES_PASSWORD=secret -d postgres

Эта команда создаст и запустит контейнер с именем students-postgres, пробросит порт 5432 контейнера на порт 5432 хоста и установит переменную окружения POSTGRES_PASSWORD со значением secret (вы можете заменить его на свой пароль).

Шаг 2: Создание миграций с помощью Alembic Установите необходимые зависимости для выполнения миграций с помощью Alembic. Выполните следующую команду:

pip install -r requirements.txt

Шаг 3: Настройка подключения к базе данных Настройте подключение к базе данных в файле alembic.ini. Замените следующую строку в файле:

sqlalchemy.url = postgresql://your_username:your_password@localhost/your_database_name

Замените your_username, your_password и your_database_name на соответствующие значения.

Шаг 4: Выполнение миграций Создайте миграционные скрипты с помощью Alembic. Выполните следующую команду:

alembic revision --autogenerate -m "Initial migration"

Это создаст миграционные скрипты на основе моделей, описанных в файле models.py.

Примените миграции к базе данных. Выполните следующую команду:

alembic upgrade head Это выполнит все созданные миграционные скрипты и применит изменения к базе данных.

Шаг 5: Заполнение таблиц данными Запустите скрипт seed.py, чтобы заполнить таблицы базы данных данными. Выполните следующую команду:

python seed.py Этот скрипт использует пакет faker для генерации случайных данных и заполняет таблицы базы данных соответствующими записями.

Шаг 6: Выполнение запросов В файле my_select.py пропишите функции для выполнения запросов к базе данных. Вызовите эти функции в вашем коде для получения результатов.

Запуск программы Запустите вашу программу или скрипт, который использует базу данных и вызывает функции запросов.

Убедитесь, что контейнер PostgreSQL запущен:

docker start students-postgres Теперь вы можете использовать базу данных PostgreSQL вместе с Alembic для выполнения миграций, заполнения таблиц данными и выполнения запросов с помощью файлов models.py, seed.py и my_select.py.
